var Re=Object.defineProperty;var Ye=(n,e,t)=>e in n?Re(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var P=(n,e,t)=>(Ye(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();function ue(n,e,t,s=o=>o){return n*s(.5-e*(.5-t))}function Xe(n){return[-n[0],-n[1]]}function Z(n,e){return[n[0]+e[0],n[1]+e[1]]}function q(n,e){return[n[0]-e[0],n[1]-e[1]]}function G(n,e){return[n[0]*e,n[1]*e]}function qe(n,e){return[n[0]/e,n[1]/e]}function ht(n){return[n[1],-n[0]]}function de(n,e){return n[0]*e[0]+n[1]*e[1]}function He(n,e){return n[0]===e[0]&&n[1]===e[1]}function Ve(n){return Math.hypot(n[0],n[1])}function Ge(n){return n[0]*n[0]+n[1]*n[1]}function fe(n,e){return Ge(q(n,e))}function Ee(n){return qe(n,Ve(n))}function Ze(n,e){return Math.hypot(n[1]-e[1],n[0]-e[0])}function ut(n,e,t){let s=Math.sin(t),o=Math.cos(t),r=n[0]-e[0],i=n[1]-e[1],a=r*o-i*s,c=r*s+i*o;return[a+e[0],c+e[1]]}function Gt(n,e,t){return Z(n,G(q(e,n),t))}function pe(n,e,t){return Z(n,G(e,t))}var{min:at,PI:Qe}=Math,ge=.275,dt=Qe+1e-4;function Je(n,e={}){let{size:t=16,smoothing:s=.5,thinning:o=.5,simulatePressure:r=!0,easing:i=x=>x,start:a={},end:c={},last:u=!1}=e,{cap:l=!0,easing:f=x=>x*(2-x)}=a,{cap:p=!0,easing:d=x=>--x*x*x+1}=c;if(n.length===0||t<=0)return[];let h=n[n.length-1].runningLength,m=a.taper===!1?0:a.taper===!0?Math.max(t,h):a.taper,g=c.taper===!1?0:c.taper===!0?Math.max(t,h):c.taper,k=Math.pow(t*s,2),w=[],E=[],z=n.slice(0,10).reduce((x,N)=>{let C=N.pressure;if(r){let T=at(1,N.distance/t),jt=at(1,1-T);C=at(1,x+(jt-x)*(T*ge))}return(x+C)/2},n[0].pressure),M=ue(t,o,n[n.length-1].pressure,i),I,j=n[0].vector,D=n[0].point,X=D,A=D,B=X,rt=!1;for(let x=0;x<n.length;x++){let{pressure:N}=n[x],{point:C,vector:T,distance:jt,runningLength:ct}=n[x];if(x<n.length-1&&h-ct<3)continue;if(o){if(r){let K=at(1,jt/t),_t=at(1,1-K);N=at(1,z+(_t-z)*(K*ge))}M=ue(t,o,N,i)}else M=t/2;I===void 0&&(I=M);let je=ct<m?f(ct/m):1,Be=h-ct<g?d((h-ct)/g):1;M=Math.max(.01,M*Math.min(je,Be));let le=(x<n.length-1?n[x+1]:n[x]).vector,Bt=x<n.length-1?de(T,le):1,_e=de(T,j)<0&&!rt,ce=Bt!==null&&Bt<0;if(_e||ce){let K=G(ht(j),M);for(let _t=1/13,wt=0;wt<=1;wt+=_t)A=ut(q(C,K),C,dt*wt),w.push(A),B=ut(Z(C,K),C,dt*-wt),E.push(B);D=A,X=B,ce&&(rt=!0);continue}if(rt=!1,x===n.length-1){let K=G(ht(T),M);w.push(q(C,K)),E.push(Z(C,K));continue}let he=G(ht(Gt(le,T,Bt)),M);A=q(C,he),(x<=1||fe(D,A)>k)&&(w.push(A),D=A),B=Z(C,he),(x<=1||fe(X,B)>k)&&(E.push(B),X=B),z=N,j=T}let W=n[0].point.slice(0,2),O=n.length>1?n[n.length-1].point.slice(0,2):Z(n[0].point,[1,1]),_=[],V=[];if(n.length===1){if(!(m||g)||u){let x=pe(W,Ee(ht(q(W,O))),-(I||M)),N=[];for(let C=1/13,T=C;T<=1;T+=C)N.push(ut(x,W,dt*2*T));return N}}else{if(!(m||g&&n.length===1))if(l)for(let N=1/13,C=N;C<=1;C+=N){let T=ut(E[0],W,dt*C);_.push(T)}else{let N=q(w[0],E[0]),C=G(N,.5),T=G(N,.51);_.push(q(W,C),q(W,T),Z(W,T),Z(W,C))}let x=ht(Xe(n[n.length-1].vector));if(g||m&&n.length===1)V.push(O);else if(p){let N=pe(O,x,M);for(let C=1/29,T=C;T<1;T+=C)V.push(ut(N,O,dt*3*T))}else V.push(Z(O,G(x,M)),Z(O,G(x,M*.99)),q(O,G(x,M*.99)),q(O,G(x,M)))}return w.concat(V,E.reverse(),_)}function Ue(n,e={}){var t;let{streamline:s=.5,size:o=16,last:r=!1}=e;if(n.length===0)return[];let i=.15+(1-s)*.85,a=Array.isArray(n[0])?n:n.map(({x:d,y:h,pressure:m=.5})=>[d,h,m]);if(a.length===2){let d=a[1];a=a.slice(0,-1);for(let h=1;h<5;h++)a.push(Gt(a[0],d,h/4))}a.length===1&&(a=[...a,[...Z(a[0],[1,1]),...a[0].slice(2)]]);let c=[{point:[a[0][0],a[0][1]],pressure:a[0][2]>=0?a[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],u=!1,l=0,f=c[0],p=a.length-1;for(let d=1;d<a.length;d++){let h=r&&d===p?a[d].slice(0,2):Gt(f.point,a[d],i);if(He(f.point,h))continue;let m=Ze(h,f.point);if(l+=m,d<p&&!u){if(l<o)continue;u=!0}f={point:h,pressure:a[d][2]>=0?a[d][2]:.5,vector:Ee(q(f.point,h)),distance:m,runningLength:l},c.push(f)}return c[0].vector=((t=c[1])==null?void 0:t.vector)||[0,0],c}function Ke(n,e={}){return Je(Ue(n,e),e)}var ts=Ke;function es(n,e,t){let s=JSON.parse(n);switch(s.typeName){case"rectangle":let{color:r,width:i,startPoint:a,endPoint:c,fillStyle:u,stroke:l,strokeWidth:f,userId:p,zoom:d}=s,h=new se(r,i,a,c,u,e,l,f,p);return h.zoom=d,h;case"ellipse":{let{color:m,width:g,startPoint:k,endPoint:w,fillStyle:E,stroke:z,strokeWidth:M,isCircle:I,userId:j,zoom:D}=s,X=new ne(m,g,k,w,E,e,z,M,I,j);return X.zoom=D,X}case"line":{let{color:m,width:g,startPoint:k,endPoint:w,userId:E,zoom:z}=s,M=new ee(m,g,k,w,e,E);return M.zoom=z,M}case"curve":{let{pointsList:m,color:g,width:k,userId:w,zoom:E}=s,z=new te(m,g,k,t,w);return z.zoom=E,z}default:return null}}function ss(n,e,t){const s={transform:`translate(${n}px, ${e}px)`};t.animate(s,{fill:"forwards"})}function Te(n,e,t){e.fillStyle=n,t.style.backgroundColor=n;const s=document.getElementsByClassName("trailer");for(let o=0;o<s.length;o++){const r=s[o];r.style.backgroundColor=n}}function vt(n,e){return(n+e)/2}function ns(n,e=!0){const t=n.length;if(t<4)return"";let s=n[0],o=n[1];const r=n[2];let i=`M${s[0].toFixed(2)},${s[1].toFixed(2)} Q${o[0].toFixed(2)},${o[1].toFixed(2)} ${vt(o[0],r[0]).toFixed(2)},${vt(o[1],r[1]).toFixed(2)} T`;for(let a=2,c=t-1;a<c;a++)s=n[a],o=n[a+1],i+=`${vt(s[0],o[0]).toFixed(2)},${vt(s[1],o[1]).toFixed(2)} `;return e&&(i+="Z"),i}function ze(n,e="1"){let t,s;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(n))return t=n.substring(1).split(""),t.length==3&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),s=+("0x"+t.join("")),"rgba("+[s>>16&255,s>>8&255,s&255].join(",")+","+e+")";throw new Error("Bad Hex")}function os(n,e){let t=n.slice(n.indexOf("(")+1,n.indexOf(")")).split(", ");return"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function is(n){let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",s=t.length;for(let o=0;o<n;o++)e+=t.charAt(Math.floor(Math.random()*s));return e}function rs(n){n.clearRect(0,0,document.documentElement.clientWidth,document.documentElement.clientHeight)}function as(n,e,t,s,o){for(let r=0;r<n.length;r++){const i=n[r];i.isOverlay(e,t,s,o)&&i.draw(e,t)}}class Dt{constructor(e,t,s){P(this,"color");P(this,"width");P(this,"userId");P(this,"typeName","");P(this,"tempObj",!1);P(this,"zoom",1);this.color=e,this.width=t,this.userId=s}draw(e,t){console.log("offset:",e,t)}isOverlay(e,t,s,o){return!0}}class te extends Dt{constructor(t,s,o,r,i){super(s,o,i);P(this,"pointsList");P(this,"ctx");P(this,"typeName","curve");this.pointsList=t,this.ctx=r,this.userId=i}draw(t,s){let o=[];for(let u=0;u<this.pointsList.length;u++){let l=this.pointsList[u];o.push([l[0]*this.zoom+t,l[1]*this.zoom+s])}const r=ts(o,{size:this.width*this.zoom,thinning:.7}),i=ns(r),a=new Path2D(i);let c=this.ctx.fillStyle;this.ctx.fillStyle=this.color.startsWith("#")?ze(this.color):this.color,this.ctx.fill(a),this.ctx.fillStyle=c}isOverlay(t,s,o,r){if(t*=-1,s*=-1,this.pointsList.length===0)return!1;let i=this.pointsList[0][0],a=this.pointsList[0][0],c=this.pointsList[0][1],u=this.pointsList[0][1];for(let h=0;h<this.pointsList.length;h++){const m=this.pointsList[h];i=i>m[0]?m[0]:i,a=a<m[0]?m[0]:a,c=c>m[1]?m[1]:c,u=u<m[1]?m[1]:u}i*=this.zoom,c*=this.zoom,a*=this.zoom,u*=this.zoom;let l=t,f=s,p=t+o,d=s+r;return(i>=l&&i<=p||a>=l&&a<=p)&&(c>=f&&c<=d||u>=f&&u<=d)||(l>=i&&l<=a||p>=i&&p<=a)&&(f>=c&&f<=u||d>=c&&d<=u)||(i>=l&&i<=p||a>=l&&a<=p)&&(f>=c&&f<=u||d>=c&&d<=u)||(l>=i&&l<=a||p>=i&&p<=a)&&(c>=f&&c<=d||u>=f&&u<=d)}}class ee extends Dt{constructor(t,s,o,r,i,a){super(t,s,a);P(this,"startPoint");P(this,"endPoint");P(this,"roughCanvas");P(this,"typeName","line");this.startPoint=o,this.endPoint=r,this.roughCanvas=i,this.userId=a}draw(t,s){this.roughCanvas.line(this.startPoint[0]*this.zoom+t,this.startPoint[1]*this.zoom+s,this.endPoint[0]*this.zoom+t,this.endPoint[1]*this.zoom+s,{strokeWidth:this.width*this.zoom,stroke:this.color,seed:1})}isOverlay(t,s,o,r){return!0}}class se extends Dt{constructor(t,s,o,r,i,a,c,u,l){super(t,s,l);P(this,"startPoint");P(this,"endPoint");P(this,"roughCanvas");P(this,"fillStyle");P(this,"typeName","rectangle");P(this,"stroke");P(this,"strokeWidth");P(this,"drawableObj",null);this.startPoint=o,this.endPoint=r,this.roughCanvas=a,this.fillStyle=i,this.stroke=c,this.strokeWidth=u,this.userId=l}draw(t,s){let o=this.endPoint[0]*this.zoom-this.startPoint[0]*this.zoom,r=this.endPoint[1]*this.zoom-this.startPoint[1]*this.zoom;this.roughCanvas.rectangle(this.startPoint[0]*this.zoom+t,this.startPoint[1]*this.zoom+s,o,r,{strokeWidth:this.width*this.zoom,fill:this.color,fillStyle:this.fillStyle,seed:1,stroke:this.stroke})}isOverlay(t,s,o,r){return!0}}class ne extends Dt{constructor(t,s,o,r,i,a,c,u,l,f){super(t,s,f);P(this,"startPoint");P(this,"endPoint");P(this,"roughCanvas");P(this,"fillStyle");P(this,"typeName","ellipse");P(this,"stroke");P(this,"strokeWidth");P(this,"drawableObj",null);P(this,"isCircle");this.startPoint=o,this.endPoint=r,this.roughCanvas=a,this.fillStyle=i,this.stroke=c,this.strokeWidth=u,this.isCircle=l,this.userId=this.userId}draw(t,s){let o=this.endPoint[0]-this.startPoint[0],r=this.endPoint[1]-this.startPoint[1];this.roughCanvas.ellipse(this.startPoint[0]*this.zoom+t,this.startPoint[1]*this.zoom+s,o*2*this.zoom,r*2*this.zoom,{strokeWidth:this.width*this.zoom,fill:this.color,fillStyle:this.fillStyle,seed:1,stroke:this.stroke})}isOverlay(t,s,o,r){return!0}}function Rt(n,e,t){if(n&&n.length){const[s,o]=e,r=Math.PI/180*t,i=Math.cos(r),a=Math.sin(r);n.forEach(c=>{const[u,l]=c;c[0]=(u-s)*i-(l-o)*a+s,c[1]=(u-s)*a+(l-o)*i+o})}}function $t(n){const e=n[0],t=n[1];return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function bt(n,e){const t=e.hachureAngle+90;let s=e.hachureGap;s<0&&(s=4*e.strokeWidth),s=Math.max(s,.1);const o=[0,0];if(t)for(const i of n)Rt(i,o,t);const r=function(i,a){const c=[];for(const d of i){const h=[...d];h[0].join(",")!==h[h.length-1].join(",")&&h.push([h[0][0],h[0][1]]),h.length>2&&c.push(h)}const u=[];a=Math.max(a,.1);const l=[];for(const d of c)for(let h=0;h<d.length-1;h++){const m=d[h],g=d[h+1];if(m[1]!==g[1]){const k=Math.min(m[1],g[1]);l.push({ymin:k,ymax:Math.max(m[1],g[1]),x:k===m[1]?m[0]:g[0],islope:(g[0]-m[0])/(g[1]-m[1])})}}if(l.sort((d,h)=>d.ymin<h.ymin?-1:d.ymin>h.ymin?1:d.x<h.x?-1:d.x>h.x?1:d.ymax===h.ymax?0:(d.ymax-h.ymax)/Math.abs(d.ymax-h.ymax)),!l.length)return u;let f=[],p=l[0].ymin;for(;f.length||l.length;){if(l.length){let d=-1;for(let h=0;h<l.length&&!(l[h].ymin>p);h++)d=h;l.splice(0,d+1).forEach(h=>{f.push({s:p,edge:h})})}if(f=f.filter(d=>!(d.edge.ymax<=p)),f.sort((d,h)=>d.edge.x===h.edge.x?0:(d.edge.x-h.edge.x)/Math.abs(d.edge.x-h.edge.x)),f.length>1)for(let d=0;d<f.length;d+=2){const h=d+1;if(h>=f.length)break;const m=f[d].edge,g=f[h].edge;u.push([[Math.round(m.x),p],[Math.round(g.x),p]])}p+=a,f.forEach(d=>{d.edge.x=d.edge.x+a*d.edge.islope})}return u}(n,s);if(t){for(const i of n)Rt(i,o,-t);(function(i,a,c){const u=[];i.forEach(l=>u.push(...l)),Rt(u,a,c)})(r,o,-t)}return r}class oe{constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){const s=bt(e,t);return{type:"fillSketch",ops:this.renderLines(s,t)}}renderLines(e,t){const s=[];for(const o of e)s.push(...this.helper.doubleLineOps(o[0][0],o[0][1],o[1][0],o[1][1],t));return s}}class ls extends oe{fillPolygons(e,t){let s=t.hachureGap;s<0&&(s=4*t.strokeWidth),s=Math.max(s,.1);const o=bt(e,Object.assign({},t,{hachureGap:s})),r=Math.PI/180*t.hachureAngle,i=[],a=.5*s*Math.cos(r),c=.5*s*Math.sin(r);for(const[u,l]of o)$t([u,l])&&i.push([[u[0]-a,u[1]+c],[...l]],[[u[0]+a,u[1]-c],[...l]]);return{type:"fillSketch",ops:this.renderLines(i,t)}}}class cs extends oe{fillPolygons(e,t){const s=this._fillPolygons(e,t),o=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),r=this._fillPolygons(e,o);return s.ops=s.ops.concat(r.ops),s}}class hs{constructor(e){this.helper=e}fillPolygons(e,t){const s=bt(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(s,t)}dotsOnLines(e,t){const s=[];let o=t.hachureGap;o<0&&(o=4*t.strokeWidth),o=Math.max(o,.1);let r=t.fillWeight;r<0&&(r=t.strokeWidth/2);const i=o/4;for(const a of e){const c=$t(a),u=c/o,l=Math.ceil(u)-1,f=c-l*o,p=(a[0][0]+a[1][0])/2-o/4,d=Math.min(a[0][1],a[1][1]);for(let h=0;h<l;h++){const m=d+f+h*o,g=p-i+2*Math.random()*i,k=m-i+2*Math.random()*i,w=this.helper.ellipse(g,k,r,r,t);s.push(...w.ops)}}return{type:"fillSketch",ops:s}}}class us{constructor(e){this.helper=e}fillPolygons(e,t){const s=bt(e,t);return{type:"fillSketch",ops:this.dashedLine(s,t)}}dashedLine(e,t){const s=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,o=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,r=[];return e.forEach(i=>{const a=$t(i),c=Math.floor(a/(s+o)),u=(a+o-c*(s+o))/2;let l=i[0],f=i[1];l[0]>f[0]&&(l=i[1],f=i[0]);const p=Math.atan((f[1]-l[1])/(f[0]-l[0]));for(let d=0;d<c;d++){const h=d*(s+o),m=h+s,g=[l[0]+h*Math.cos(p)+u*Math.cos(p),l[1]+h*Math.sin(p)+u*Math.sin(p)],k=[l[0]+m*Math.cos(p)+u*Math.cos(p),l[1]+m*Math.sin(p)+u*Math.sin(p)];r.push(...this.helper.doubleLineOps(g[0],g[1],k[0],k[1],t))}}),r}}class ds{constructor(e){this.helper=e}fillPolygons(e,t){const s=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,o=t.zigzagOffset<0?s:t.zigzagOffset,r=bt(e,t=Object.assign({},t,{hachureGap:s+o}));return{type:"fillSketch",ops:this.zigzagLines(r,o,t)}}zigzagLines(e,t,s){const o=[];return e.forEach(r=>{const i=$t(r),a=Math.round(i/(2*t));let c=r[0],u=r[1];c[0]>u[0]&&(c=r[1],u=r[0]);const l=Math.atan((u[1]-c[1])/(u[0]-c[0]));for(let f=0;f<a;f++){const p=2*f*t,d=2*(f+1)*t,h=Math.sqrt(2*Math.pow(t,2)),m=[c[0]+p*Math.cos(l),c[1]+p*Math.sin(l)],g=[c[0]+d*Math.cos(l),c[1]+d*Math.sin(l)],k=[m[0]+h*Math.cos(l+Math.PI/4),m[1]+h*Math.sin(l+Math.PI/4)];o.push(...this.helper.doubleLineOps(m[0],m[1],k[0],k[1],s),...this.helper.doubleLineOps(k[0],k[1],g[0],g[1],s))}}),o}}const R={};class fs{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const Mt={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Yt(n,e){return n.type===e}function Zt(n){const e=[],t=function(i){const a=new Array;for(;i!=="";)if(i.match(/^([ \t\r\n,]+)/))i=i.substr(RegExp.$1.length);else if(i.match(/^([aAcChHlLmMqQsStTvVzZ])/))a[a.length]={type:0,text:RegExp.$1},i=i.substr(RegExp.$1.length);else{if(!i.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];a[a.length]={type:1,text:`${parseFloat(RegExp.$1)}`},i=i.substr(RegExp.$1.length)}return a[a.length]={type:2,text:""},a}(n);let s="BOD",o=0,r=t[o];for(;!Yt(r,2);){let i=0;const a=[];if(s==="BOD"){if(r.text!=="M"&&r.text!=="m")return Zt("M0,0"+n);o++,i=Mt[r.text],s=r.text}else Yt(r,1)?i=Mt[s]:(o++,i=Mt[r.text],s=r.text);if(!(o+i<t.length))throw new Error("Path data ended short");for(let c=o;c<o+i;c++){const u=t[c];if(!Yt(u,1))throw new Error("Param not a number: "+s+","+u.text);a[a.length]=+u.text}if(typeof Mt[s]!="number")throw new Error("Bad segment: "+s);{const c={key:s,data:a};e.push(c),o+=i,r=t[o],s==="M"&&(s="L"),s==="m"&&(s="l")}}return e}function me(n){let e=0,t=0,s=0,o=0;const r=[];for(const{key:i,data:a}of n)switch(i){case"M":r.push({key:"M",data:[...a]}),[e,t]=a,[s,o]=a;break;case"m":e+=a[0],t+=a[1],r.push({key:"M",data:[e,t]}),s=e,o=t;break;case"L":r.push({key:"L",data:[...a]}),[e,t]=a;break;case"l":e+=a[0],t+=a[1],r.push({key:"L",data:[e,t]});break;case"C":r.push({key:"C",data:[...a]}),e=a[4],t=a[5];break;case"c":{const c=a.map((u,l)=>l%2?u+t:u+e);r.push({key:"C",data:c}),e=c[4],t=c[5];break}case"Q":r.push({key:"Q",data:[...a]}),e=a[2],t=a[3];break;case"q":{const c=a.map((u,l)=>l%2?u+t:u+e);r.push({key:"Q",data:c}),e=c[2],t=c[3];break}case"A":r.push({key:"A",data:[...a]}),e=a[5],t=a[6];break;case"a":e+=a[5],t+=a[6],r.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],e,t]});break;case"H":r.push({key:"H",data:[...a]}),e=a[0];break;case"h":e+=a[0],r.push({key:"H",data:[e]});break;case"V":r.push({key:"V",data:[...a]}),t=a[0];break;case"v":t+=a[0],r.push({key:"V",data:[t]});break;case"S":r.push({key:"S",data:[...a]}),e=a[2],t=a[3];break;case"s":{const c=a.map((u,l)=>l%2?u+t:u+e);r.push({key:"S",data:c}),e=c[2],t=c[3];break}case"T":r.push({key:"T",data:[...a]}),e=a[0],t=a[1];break;case"t":e+=a[0],t+=a[1],r.push({key:"T",data:[e,t]});break;case"Z":case"z":r.push({key:"Z",data:[]}),e=s,t=o}return r}function ye(n){const e=[];let t="",s=0,o=0,r=0,i=0,a=0,c=0;for(const{key:u,data:l}of n){switch(u){case"M":e.push({key:"M",data:[...l]}),[s,o]=l,[r,i]=l;break;case"C":e.push({key:"C",data:[...l]}),s=l[4],o=l[5],a=l[2],c=l[3];break;case"L":e.push({key:"L",data:[...l]}),[s,o]=l;break;case"H":s=l[0],e.push({key:"L",data:[s,o]});break;case"V":o=l[0],e.push({key:"L",data:[s,o]});break;case"S":{let f=0,p=0;t==="C"||t==="S"?(f=s+(s-a),p=o+(o-c)):(f=s,p=o),e.push({key:"C",data:[f,p,...l]}),a=l[0],c=l[1],s=l[2],o=l[3];break}case"T":{const[f,p]=l;let d=0,h=0;t==="Q"||t==="T"?(d=s+(s-a),h=o+(o-c)):(d=s,h=o);const m=s+2*(d-s)/3,g=o+2*(h-o)/3,k=f+2*(d-f)/3,w=p+2*(h-p)/3;e.push({key:"C",data:[m,g,k,w,f,p]}),a=d,c=h,s=f,o=p;break}case"Q":{const[f,p,d,h]=l,m=s+2*(f-s)/3,g=o+2*(p-o)/3,k=d+2*(f-d)/3,w=h+2*(p-h)/3;e.push({key:"C",data:[m,g,k,w,d,h]}),a=f,c=p,s=d,o=h;break}case"A":{const f=Math.abs(l[0]),p=Math.abs(l[1]),d=l[2],h=l[3],m=l[4],g=l[5],k=l[6];f===0||p===0?(e.push({key:"C",data:[s,o,g,k,g,k]}),s=g,o=k):(s!==g||o!==k)&&(We(s,o,g,k,f,p,d,h,m).forEach(function(w){e.push({key:"C",data:w})}),s=g,o=k);break}case"Z":e.push({key:"Z",data:[]}),s=r,o=i}t=u}return e}function ft(n,e,t){return[n*Math.cos(t)-e*Math.sin(t),n*Math.sin(t)+e*Math.cos(t)]}function We(n,e,t,s,o,r,i,a,c,u){const l=(f=i,Math.PI*f/180);var f;let p=[],d=0,h=0,m=0,g=0;if(u)[d,h,m,g]=u;else{[n,e]=ft(n,e,-l),[t,s]=ft(t,s,-l);const W=(n-t)/2,O=(e-s)/2;let _=W*W/(o*o)+O*O/(r*r);_>1&&(_=Math.sqrt(_),o*=_,r*=_);const V=o*o,x=r*r,N=V*x-V*O*O-x*W*W,C=V*O*O+x*W*W,T=(a===c?-1:1)*Math.sqrt(Math.abs(N/C));m=T*o*O/r+(n+t)/2,g=T*-r*W/o+(e+s)/2,d=Math.asin(parseFloat(((e-g)/r).toFixed(9))),h=Math.asin(parseFloat(((s-g)/r).toFixed(9))),n<m&&(d=Math.PI-d),t<m&&(h=Math.PI-h),d<0&&(d=2*Math.PI+d),h<0&&(h=2*Math.PI+h),c&&d>h&&(d-=2*Math.PI),!c&&h>d&&(h-=2*Math.PI)}let k=h-d;if(Math.abs(k)>120*Math.PI/180){const W=h,O=t,_=s;h=c&&h>d?d+120*Math.PI/180*1:d+120*Math.PI/180*-1,p=We(t=m+o*Math.cos(h),s=g+r*Math.sin(h),O,_,o,r,i,0,c,[h,W,m,g])}k=h-d;const w=Math.cos(d),E=Math.sin(d),z=Math.cos(h),M=Math.sin(h),I=Math.tan(k/4),j=4/3*o*I,D=4/3*r*I,X=[n,e],A=[n+j*E,e-D*w],B=[t+j*M,s-D*z],rt=[t,s];if(A[0]=2*X[0]-A[0],A[1]=2*X[1]-A[1],u)return[A,B,rt].concat(p);{p=[A,B,rt].concat(p);const W=[];for(let O=0;O<p.length;O+=3){const _=ft(p[O][0],p[O][1],l),V=ft(p[O+1][0],p[O+1][1],l),x=ft(p[O+2][0],p[O+2][1],l);W.push([_[0],_[1],V[0],V[1],x[0],x[1]])}return W}}const ps={randOffset:function(n,e){return b(n,e)},randOffsetWithRange:function(n,e,t){return Et(n,e,t)},ellipse:function(n,e,t,s,o){const r=Ae(t,s,o);return Qt(n,e,o,r).opset},doubleLineOps:function(n,e,t,s,o){return U(n,e,t,s,o,!0)}};function Ie(n,e,t,s,o){return{type:"path",ops:U(n,e,t,s,o)}}function Lt(n,e,t){const s=(n||[]).length;if(s>2){const o=[];for(let r=0;r<s-1;r++)o.push(...U(n[r][0],n[r][1],n[r+1][0],n[r+1][1],t));return e&&o.push(...U(n[s-1][0],n[s-1][1],n[0][0],n[0][1],t)),{type:"path",ops:o}}return s===2?Ie(n[0][0],n[0][1],n[1][0],n[1][1],t):{type:"path",ops:[]}}function gs(n,e,t,s,o){return function(r,i){return Lt(r,!0,i)}([[n,e],[n+t,e],[n+t,e+s],[n,e+s]],o)}function ms(n,e){let t=we(n,1*(1+.2*e.roughness),e);if(!e.disableMultiStroke){const s=we(n,1.5*(1+.22*e.roughness),function(o){const r=Object.assign({},o);return r.randomizer=void 0,o.seed&&(r.seed=o.seed+1),r}(e));t=t.concat(s)}return{type:"path",ops:t}}function Ae(n,e,t){const s=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(n/2,2)+Math.pow(e/2,2))/2)),o=Math.ceil(Math.max(t.curveStepCount,t.curveStepCount/Math.sqrt(200)*s)),r=2*Math.PI/o;let i=Math.abs(n/2),a=Math.abs(e/2);const c=1-t.curveFitting;return i+=b(i*c,t),a+=b(a*c,t),{increment:r,rx:i,ry:a}}function Qt(n,e,t,s){const[o,r]=ve(s.increment,n,e,s.rx,s.ry,1,s.increment*Et(.1,Et(.4,1,t),t),t);let i=Tt(o,null,t);if(!t.disableMultiStroke&&t.roughness!==0){const[a]=ve(s.increment,n,e,s.rx,s.ry,1.5,0,t),c=Tt(a,null,t);i=i.concat(c)}return{estimatedPoints:r,opset:{type:"path",ops:i}}}function ke(n,e,t,s,o,r,i,a,c){const u=n,l=e;let f=Math.abs(t/2),p=Math.abs(s/2);f+=b(.01*f,c),p+=b(.01*p,c);let d=o,h=r;for(;d<0;)d+=2*Math.PI,h+=2*Math.PI;h-d>2*Math.PI&&(d=0,h=2*Math.PI);const m=2*Math.PI/c.curveStepCount,g=Math.min(m/2,(h-d)/2),k=Me(g,u,l,f,p,d,h,1,c);if(!c.disableMultiStroke){const w=Me(g,u,l,f,p,d,h,1.5,c);k.push(...w)}return i&&(a?k.push(...U(u,l,u+f*Math.cos(d),l+p*Math.sin(d),c),...U(u,l,u+f*Math.cos(h),l+p*Math.sin(h),c)):k.push({op:"lineTo",data:[u,l]},{op:"lineTo",data:[u+f*Math.cos(d),l+p*Math.sin(d)]})),{type:"path",ops:k}}function xt(n,e){const t=[];for(const s of n)if(s.length){const o=e.maxRandomnessOffset||0,r=s.length;if(r>2){t.push({op:"move",data:[s[0][0]+b(o,e),s[0][1]+b(o,e)]});for(let i=1;i<r;i++)t.push({op:"lineTo",data:[s[i][0]+b(o,e),s[i][1]+b(o,e)]})}}return{type:"fillPath",ops:t}}function lt(n,e){return function(t,s){let o=t.fillStyle||"hachure";if(!R[o])switch(o){case"zigzag":R[o]||(R[o]=new ls(s));break;case"cross-hatch":R[o]||(R[o]=new cs(s));break;case"dots":R[o]||(R[o]=new hs(s));break;case"dashed":R[o]||(R[o]=new us(s));break;case"zigzag-line":R[o]||(R[o]=new ds(s));break;case"hachure":default:o="hachure",R[o]||(R[o]=new oe(s))}return R[o]}(e,ps).fillPolygons(n,e)}function Ne(n){return n.randomizer||(n.randomizer=new fs(n.seed||0)),n.randomizer.next()}function Et(n,e,t,s=1){return t.roughness*s*(Ne(t)*(e-n)+n)}function b(n,e,t=1){return Et(-n,n,e,t)}function U(n,e,t,s,o,r=!1){const i=r?o.disableMultiStrokeFill:o.disableMultiStroke,a=be(n,e,t,s,o,!0,!1);if(i)return a;const c=be(n,e,t,s,o,!0,!0);return a.concat(c)}function be(n,e,t,s,o,r,i){const a=Math.pow(n-t,2)+Math.pow(e-s,2),c=Math.sqrt(a);let u=1;u=c<200?1:c>500?.4:-.0016668*c+1.233334;let l=o.maxRandomnessOffset||0;l*l*100>a&&(l=c/10);const f=l/2,p=.2+.2*Ne(o);let d=o.bowing*o.maxRandomnessOffset*(s-e)/200,h=o.bowing*o.maxRandomnessOffset*(n-t)/200;d=b(d,o,u),h=b(h,o,u);const m=[],g=()=>b(f,o,u),k=()=>b(l,o,u),w=o.preserveVertices;return r&&(i?m.push({op:"move",data:[n+(w?0:g()),e+(w?0:g())]}):m.push({op:"move",data:[n+(w?0:b(l,o,u)),e+(w?0:b(l,o,u))]})),i?m.push({op:"bcurveTo",data:[d+n+(t-n)*p+g(),h+e+(s-e)*p+g(),d+n+2*(t-n)*p+g(),h+e+2*(s-e)*p+g(),t+(w?0:g()),s+(w?0:g())]}):m.push({op:"bcurveTo",data:[d+n+(t-n)*p+k(),h+e+(s-e)*p+k(),d+n+2*(t-n)*p+k(),h+e+2*(s-e)*p+k(),t+(w?0:k()),s+(w?0:k())]}),m}function we(n,e,t){const s=[];s.push([n[0][0]+b(e,t),n[0][1]+b(e,t)]),s.push([n[0][0]+b(e,t),n[0][1]+b(e,t)]);for(let o=1;o<n.length;o++)s.push([n[o][0]+b(e,t),n[o][1]+b(e,t)]),o===n.length-1&&s.push([n[o][0]+b(e,t),n[o][1]+b(e,t)]);return Tt(s,null,t)}function Tt(n,e,t){const s=n.length,o=[];if(s>3){const r=[],i=1-t.curveTightness;o.push({op:"move",data:[n[1][0],n[1][1]]});for(let a=1;a+2<s;a++){const c=n[a];r[0]=[c[0],c[1]],r[1]=[c[0]+(i*n[a+1][0]-i*n[a-1][0])/6,c[1]+(i*n[a+1][1]-i*n[a-1][1])/6],r[2]=[n[a+1][0]+(i*n[a][0]-i*n[a+2][0])/6,n[a+1][1]+(i*n[a][1]-i*n[a+2][1])/6],r[3]=[n[a+1][0],n[a+1][1]],o.push({op:"bcurveTo",data:[r[1][0],r[1][1],r[2][0],r[2][1],r[3][0],r[3][1]]})}if(e&&e.length===2){const a=t.maxRandomnessOffset;o.push({op:"lineTo",data:[e[0]+b(a,t),e[1]+b(a,t)]})}}else s===3?(o.push({op:"move",data:[n[1][0],n[1][1]]}),o.push({op:"bcurveTo",data:[n[1][0],n[1][1],n[2][0],n[2][1],n[2][0],n[2][1]]})):s===2&&o.push(...U(n[0][0],n[0][1],n[1][0],n[1][1],t));return o}function ve(n,e,t,s,o,r,i,a){const c=[],u=[];if(a.roughness===0){n/=4,u.push([e+s*Math.cos(-n),t+o*Math.sin(-n)]);for(let l=0;l<=2*Math.PI;l+=n){const f=[e+s*Math.cos(l),t+o*Math.sin(l)];c.push(f),u.push(f)}u.push([e+s*Math.cos(0),t+o*Math.sin(0)]),u.push([e+s*Math.cos(n),t+o*Math.sin(n)])}else{const l=b(.5,a)-Math.PI/2;u.push([b(r,a)+e+.9*s*Math.cos(l-n),b(r,a)+t+.9*o*Math.sin(l-n)]);const f=2*Math.PI+l-.01;for(let p=l;p<f;p+=n){const d=[b(r,a)+e+s*Math.cos(p),b(r,a)+t+o*Math.sin(p)];c.push(d),u.push(d)}u.push([b(r,a)+e+s*Math.cos(l+2*Math.PI+.5*i),b(r,a)+t+o*Math.sin(l+2*Math.PI+.5*i)]),u.push([b(r,a)+e+.98*s*Math.cos(l+i),b(r,a)+t+.98*o*Math.sin(l+i)]),u.push([b(r,a)+e+.9*s*Math.cos(l+.5*i),b(r,a)+t+.9*o*Math.sin(l+.5*i)])}return[u,c]}function Me(n,e,t,s,o,r,i,a,c){const u=r+b(.1,c),l=[];l.push([b(a,c)+e+.9*s*Math.cos(u-n),b(a,c)+t+.9*o*Math.sin(u-n)]);for(let f=u;f<=i;f+=n)l.push([b(a,c)+e+s*Math.cos(f),b(a,c)+t+o*Math.sin(f)]);return l.push([e+s*Math.cos(i),t+o*Math.sin(i)]),l.push([e+s*Math.cos(i),t+o*Math.sin(i)]),Tt(l,null,c)}function ys(n,e,t,s,o,r,i,a){const c=[],u=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let l=[0,0];const f=a.disableMultiStroke?1:2,p=a.preserveVertices;for(let d=0;d<f;d++)d===0?c.push({op:"move",data:[i[0],i[1]]}):c.push({op:"move",data:[i[0]+(p?0:b(u[0],a)),i[1]+(p?0:b(u[0],a))]}),l=p?[o,r]:[o+b(u[d],a),r+b(u[d],a)],c.push({op:"bcurveTo",data:[n+b(u[d],a),e+b(u[d],a),t+b(u[d],a),s+b(u[d],a),l[0],l[1]]});return c}function pt(n){return[...n]}function St(n,e){return Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2)}function ks(n,e,t){const s=St(e,t);if(s===0)return St(n,e);let o=((n[0]-e[0])*(t[0]-e[0])+(n[1]-e[1])*(t[1]-e[1]))/s;return o=Math.max(0,Math.min(1,o)),St(n,tt(e,t,o))}function tt(n,e,t){return[n[0]+(e[0]-n[0])*t,n[1]+(e[1]-n[1])*t]}function Jt(n,e,t,s){const o=s||[];if(function(a,c){const u=a[c+0],l=a[c+1],f=a[c+2],p=a[c+3];let d=3*l[0]-2*u[0]-p[0];d*=d;let h=3*l[1]-2*u[1]-p[1];h*=h;let m=3*f[0]-2*p[0]-u[0];m*=m;let g=3*f[1]-2*p[1]-u[1];return g*=g,d<m&&(d=m),h<g&&(h=g),d+h}(n,e)<t){const a=n[e+0];o.length?(r=o[o.length-1],i=a,Math.sqrt(St(r,i))>1&&o.push(a)):o.push(a),o.push(n[e+3])}else{const c=n[e+0],u=n[e+1],l=n[e+2],f=n[e+3],p=tt(c,u,.5),d=tt(u,l,.5),h=tt(l,f,.5),m=tt(p,d,.5),g=tt(d,h,.5),k=tt(m,g,.5);Jt([c,p,m,k],0,t,o),Jt([k,g,h,f],0,t,o)}var r,i;return o}function bs(n,e){return zt(n,0,n.length,e)}function zt(n,e,t,s,o){const r=o||[],i=n[e],a=n[t-1];let c=0,u=1;for(let l=e+1;l<t-1;++l){const f=ks(n[l],i,a);f>c&&(c=f,u=l)}return Math.sqrt(c)>s?(zt(n,e,u+1,s,r),zt(n,u,t,s,r)):(r.length||r.push(i),r.push(a)),r}function xe(n,e=.15,t){const s=[],o=(n.length-1)/3;for(let r=0;r<o;r++)Jt(n,3*r,e,s);return t&&t>0?zt(s,0,s.length,t):s}const Y="none";class Wt{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,s){return{shape:e,sets:t||[],options:s||this.defaultOptions}}line(e,t,s,o,r){const i=this._o(r);return this._d("line",[Ie(e,t,s,o,i)],i)}rectangle(e,t,s,o,r){const i=this._o(r),a=[],c=gs(e,t,s,o,i);if(i.fill){const u=[[e,t],[e+s,t],[e+s,t+o],[e,t+o]];i.fillStyle==="solid"?a.push(xt([u],i)):a.push(lt([u],i))}return i.stroke!==Y&&a.push(c),this._d("rectangle",a,i)}ellipse(e,t,s,o,r){const i=this._o(r),a=[],c=Ae(s,o,i),u=Qt(e,t,i,c);if(i.fill)if(i.fillStyle==="solid"){const l=Qt(e,t,i,c).opset;l.type="fillPath",a.push(l)}else a.push(lt([u.estimatedPoints],i));return i.stroke!==Y&&a.push(u.opset),this._d("ellipse",a,i)}circle(e,t,s,o){const r=this.ellipse(e,t,s,s,o);return r.shape="circle",r}linearPath(e,t){const s=this._o(t);return this._d("linearPath",[Lt(e,!1,s)],s)}arc(e,t,s,o,r,i,a=!1,c){const u=this._o(c),l=[],f=ke(e,t,s,o,r,i,a,!0,u);if(a&&u.fill)if(u.fillStyle==="solid"){const p=Object.assign({},u);p.disableMultiStroke=!0;const d=ke(e,t,s,o,r,i,!0,!1,p);d.type="fillPath",l.push(d)}else l.push(function(p,d,h,m,g,k,w){const E=p,z=d;let M=Math.abs(h/2),I=Math.abs(m/2);M+=b(.01*M,w),I+=b(.01*I,w);let j=g,D=k;for(;j<0;)j+=2*Math.PI,D+=2*Math.PI;D-j>2*Math.PI&&(j=0,D=2*Math.PI);const X=(D-j)/w.curveStepCount,A=[];for(let B=j;B<=D;B+=X)A.push([E+M*Math.cos(B),z+I*Math.sin(B)]);return A.push([E+M*Math.cos(D),z+I*Math.sin(D)]),A.push([E,z]),lt([A],w)}(e,t,s,o,r,i,u));return u.stroke!==Y&&l.push(f),this._d("arc",l,u)}curve(e,t){const s=this._o(t),o=[],r=ms(e,s);if(s.fill&&s.fill!==Y&&e.length>=3){const i=xe(function(a,c=0){const u=a.length;if(u<3)throw new Error("A curve must have at least three points.");const l=[];if(u===3)l.push(pt(a[0]),pt(a[1]),pt(a[2]),pt(a[2]));else{const f=[];f.push(a[0],a[0]);for(let h=1;h<a.length;h++)f.push(a[h]),h===a.length-1&&f.push(a[h]);const p=[],d=1-c;l.push(pt(f[0]));for(let h=1;h+2<f.length;h++){const m=f[h];p[0]=[m[0],m[1]],p[1]=[m[0]+(d*f[h+1][0]-d*f[h-1][0])/6,m[1]+(d*f[h+1][1]-d*f[h-1][1])/6],p[2]=[f[h+1][0]+(d*f[h][0]-d*f[h+2][0])/6,f[h+1][1]+(d*f[h][1]-d*f[h+2][1])/6],p[3]=[f[h+1][0],f[h+1][1]],l.push(p[1],p[2],p[3])}}return l}(e),10,(1+s.roughness)/2);s.fillStyle==="solid"?o.push(xt([i],s)):o.push(lt([i],s))}return s.stroke!==Y&&o.push(r),this._d("curve",o,s)}polygon(e,t){const s=this._o(t),o=[],r=Lt(e,!0,s);return s.fill&&(s.fillStyle==="solid"?o.push(xt([e],s)):o.push(lt([e],s))),s.stroke!==Y&&o.push(r),this._d("polygon",o,s)}path(e,t){const s=this._o(t),o=[];if(!e)return this._d("path",o,s);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const r=s.fill&&s.fill!=="transparent"&&s.fill!==Y,i=s.stroke!==Y,a=!!(s.simplification&&s.simplification<1),c=function(u,l,f){const p=ye(me(Zt(u))),d=[];let h=[],m=[0,0],g=[];const k=()=>{g.length>=4&&h.push(...xe(g,l)),g=[]},w=()=>{k(),h.length&&(d.push(h),h=[])};for(const{key:z,data:M}of p)switch(z){case"M":w(),m=[M[0],M[1]],h.push(m);break;case"L":k(),h.push([M[0],M[1]]);break;case"C":if(!g.length){const I=h.length?h[h.length-1]:m;g.push([I[0],I[1]])}g.push([M[0],M[1]]),g.push([M[2],M[3]]),g.push([M[4],M[5]]);break;case"Z":k(),h.push([m[0],m[1]])}if(w(),!f)return d;const E=[];for(const z of d){const M=bs(z,f);M.length&&E.push(M)}return E}(e,1,a?4-4*s.simplification:(1+s.roughness)/2);return r&&(s.fillStyle==="solid"?o.push(xt(c,s)):o.push(lt(c,s))),i&&(a?c.forEach(u=>{o.push(Lt(u,!1,s))}):o.push(function(u,l){const f=ye(me(Zt(u))),p=[];let d=[0,0],h=[0,0];for(const{key:m,data:g}of f)switch(m){case"M":{const k=1*(l.maxRandomnessOffset||0),w=l.preserveVertices;p.push({op:"move",data:g.map(E=>E+(w?0:b(k,l)))}),h=[g[0],g[1]],d=[g[0],g[1]];break}case"L":p.push(...U(h[0],h[1],g[0],g[1],l)),h=[g[0],g[1]];break;case"C":{const[k,w,E,z,M,I]=g;p.push(...ys(k,w,E,z,M,I,h,l)),h=[M,I];break}case"Z":p.push(...U(h[0],h[1],d[0],d[1],l)),h=[d[0],d[1]]}return{type:"path",ops:p}}(e,s))),this._d("path",o,s)}opsToPath(e,t){let s="";for(const o of e.ops){const r=typeof t=="number"&&t>=0?o.data.map(i=>+i.toFixed(t)):o.data;switch(o.op){case"move":s+=`M${r[0]} ${r[1]} `;break;case"bcurveTo":s+=`C${r[0]} ${r[1]}, ${r[2]} ${r[3]}, ${r[4]} ${r[5]} `;break;case"lineTo":s+=`L${r[0]} ${r[1]} `}}return s.trim()}toPaths(e){const t=e.sets||[],s=e.options||this.defaultOptions,o=[];for(const r of t){let i=null;switch(r.type){case"path":i={d:this.opsToPath(r),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:Y};break;case"fillPath":i={d:this.opsToPath(r),stroke:Y,strokeWidth:0,fill:s.fill||Y};break;case"fillSketch":i=this.fillSketch(r,s)}i&&o.push(i)}return o}fillSketch(e,t){let s=t.fillWeight;return s<0&&(s=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||Y,strokeWidth:s,fill:Y}}}class ws{constructor(e,t){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new Wt(t)}draw(e){const t=e.sets||[],s=e.options||this.getDefaultOptions(),o=this.ctx,r=e.options.fixedDecimalPlaceDigits;for(const i of t)switch(i.type){case"path":o.save(),o.strokeStyle=s.stroke==="none"?"transparent":s.stroke,o.lineWidth=s.strokeWidth,s.strokeLineDash&&o.setLineDash(s.strokeLineDash),s.strokeLineDashOffset&&(o.lineDashOffset=s.strokeLineDashOffset),this._drawToContext(o,i,r),o.restore();break;case"fillPath":{o.save(),o.fillStyle=s.fill||"";const a=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(o,i,r,a),o.restore();break}case"fillSketch":this.fillSketch(o,i,s)}}fillSketch(e,t,s){let o=s.fillWeight;o<0&&(o=s.strokeWidth/2),e.save(),s.fillLineDash&&e.setLineDash(s.fillLineDash),s.fillLineDashOffset&&(e.lineDashOffset=s.fillLineDashOffset),e.strokeStyle=s.fill||"",e.lineWidth=o,this._drawToContext(e,t,s.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,t,s,o="nonzero"){e.beginPath();for(const r of t.ops){const i=typeof s=="number"&&s>=0?r.data.map(a=>+a.toFixed(s)):r.data;switch(r.op){case"move":e.moveTo(i[0],i[1]);break;case"bcurveTo":e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case"lineTo":e.lineTo(i[0],i[1])}}t.type==="fillPath"?e.fill(o):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,t,s,o,r){const i=this.gen.line(e,t,s,o,r);return this.draw(i),i}rectangle(e,t,s,o,r){const i=this.gen.rectangle(e,t,s,o,r);return this.draw(i),i}ellipse(e,t,s,o,r){const i=this.gen.ellipse(e,t,s,o,r);return this.draw(i),i}circle(e,t,s,o){const r=this.gen.circle(e,t,s,o);return this.draw(r),r}linearPath(e,t){const s=this.gen.linearPath(e,t);return this.draw(s),s}polygon(e,t){const s=this.gen.polygon(e,t);return this.draw(s),s}arc(e,t,s,o,r,i,a=!1,c){const u=this.gen.arc(e,t,s,o,r,i,a,c);return this.draw(u),u}curve(e,t){const s=this.gen.curve(e,t);return this.draw(s),s}path(e,t){const s=this.gen.path(e,t);return this.draw(s),s}}const Pt="http://www.w3.org/2000/svg";class vs{constructor(e,t){this.svg=e,this.gen=new Wt(t)}draw(e){const t=e.sets||[],s=e.options||this.getDefaultOptions(),o=this.svg.ownerDocument||window.document,r=o.createElementNS(Pt,"g"),i=e.options.fixedDecimalPlaceDigits;for(const a of t){let c=null;switch(a.type){case"path":c=o.createElementNS(Pt,"path"),c.setAttribute("d",this.opsToPath(a,i)),c.setAttribute("stroke",s.stroke),c.setAttribute("stroke-width",s.strokeWidth+""),c.setAttribute("fill","none"),s.strokeLineDash&&c.setAttribute("stroke-dasharray",s.strokeLineDash.join(" ").trim()),s.strokeLineDashOffset&&c.setAttribute("stroke-dashoffset",`${s.strokeLineDashOffset}`);break;case"fillPath":c=o.createElementNS(Pt,"path"),c.setAttribute("d",this.opsToPath(a,i)),c.setAttribute("stroke","none"),c.setAttribute("stroke-width","0"),c.setAttribute("fill",s.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||c.setAttribute("fill-rule","evenodd");break;case"fillSketch":c=this.fillSketch(o,a,s)}c&&r.appendChild(c)}return r}fillSketch(e,t,s){let o=s.fillWeight;o<0&&(o=s.strokeWidth/2);const r=e.createElementNS(Pt,"path");return r.setAttribute("d",this.opsToPath(t,s.fixedDecimalPlaceDigits)),r.setAttribute("stroke",s.fill||""),r.setAttribute("stroke-width",o+""),r.setAttribute("fill","none"),s.fillLineDash&&r.setAttribute("stroke-dasharray",s.fillLineDash.join(" ").trim()),s.fillLineDashOffset&&r.setAttribute("stroke-dashoffset",`${s.fillLineDashOffset}`),r}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,t){return this.gen.opsToPath(e,t)}line(e,t,s,o,r){const i=this.gen.line(e,t,s,o,r);return this.draw(i)}rectangle(e,t,s,o,r){const i=this.gen.rectangle(e,t,s,o,r);return this.draw(i)}ellipse(e,t,s,o,r){const i=this.gen.ellipse(e,t,s,o,r);return this.draw(i)}circle(e,t,s,o){const r=this.gen.circle(e,t,s,o);return this.draw(r)}linearPath(e,t){const s=this.gen.linearPath(e,t);return this.draw(s)}polygon(e,t){const s=this.gen.polygon(e,t);return this.draw(s)}arc(e,t,s,o,r,i,a=!1,c){const u=this.gen.arc(e,t,s,o,r,i,a,c);return this.draw(u)}curve(e,t){const s=this.gen.curve(e,t);return this.draw(s)}path(e,t){const s=this.gen.path(e,t);return this.draw(s)}}var Ms={canvas:(n,e)=>new ws(n,e),svg:(n,e)=>new vs(n,e),generator:n=>new Wt(n),newSeed:()=>Wt.newSeed()},xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},De={exports:{}};/*!
 * Toastify js 1.12.0
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */(function(n){(function(e,t){n.exports?n.exports=t():e.Toastify=t()})(xs,function(e){var t=function(i){return new t.lib.init(i)},s="1.12.0";t.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},t.lib=t.prototype={toastify:s,constructor:t,init:function(i){return i||(i={}),this.options={},this.toastElement=null,this.options.text=i.text||t.defaults.text,this.options.node=i.node||t.defaults.node,this.options.duration=i.duration===0?0:i.duration||t.defaults.duration,this.options.selector=i.selector||t.defaults.selector,this.options.callback=i.callback||t.defaults.callback,this.options.destination=i.destination||t.defaults.destination,this.options.newWindow=i.newWindow||t.defaults.newWindow,this.options.close=i.close||t.defaults.close,this.options.gravity=i.gravity==="bottom"?"toastify-bottom":t.defaults.gravity,this.options.positionLeft=i.positionLeft||t.defaults.positionLeft,this.options.position=i.position||t.defaults.position,this.options.backgroundColor=i.backgroundColor||t.defaults.backgroundColor,this.options.avatar=i.avatar||t.defaults.avatar,this.options.className=i.className||t.defaults.className,this.options.stopOnFocus=i.stopOnFocus===void 0?t.defaults.stopOnFocus:i.stopOnFocus,this.options.onClick=i.onClick||t.defaults.onClick,this.options.offset=i.offset||t.defaults.offset,this.options.escapeMarkup=i.escapeMarkup!==void 0?i.escapeMarkup:t.defaults.escapeMarkup,this.options.ariaLive=i.ariaLive||t.defaults.ariaLive,this.options.style=i.style||t.defaults.style,i.backgroundColor&&(this.options.style.background=i.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var i=document.createElement("div");i.className="toastify on "+this.options.className,this.options.position?i.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(i.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):i.className+=" toastify-right",i.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var a in this.options.style)i.style[a]=this.options.style[a];if(this.options.ariaLive&&i.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)i.appendChild(this.options.node);else if(this.options.escapeMarkup?i.innerText=this.options.text:i.innerHTML=this.options.text,this.options.avatar!==""){var c=document.createElement("img");c.src=this.options.avatar,c.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?i.appendChild(c):i.insertAdjacentElement("afterbegin",c)}if(this.options.close===!0){var u=document.createElement("button");u.type="button",u.setAttribute("aria-label","Close"),u.className="toast-close",u.innerHTML="&#10006;",u.addEventListener("click",function(g){g.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var l=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&l>360?i.insertAdjacentElement("afterbegin",u):i.appendChild(u)}if(this.options.stopOnFocus&&this.options.duration>0){var f=this;i.addEventListener("mouseover",function(g){window.clearTimeout(i.timeOutValue)}),i.addEventListener("mouseleave",function(){i.timeOutValue=window.setTimeout(function(){f.removeElement(i)},f.options.duration)})}if(typeof this.options.destination<"u"&&i.addEventListener("click",function(g){g.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&i.addEventListener("click",function(g){g.stopPropagation(),this.options.onClick()}.bind(this)),typeof this.options.offset=="object"){var p=o("x",this.options),d=o("y",this.options),h=this.options.position=="left"?p:"-"+p,m=this.options.gravity=="toastify-top"?d:"-"+d;i.style.transform="translate("+h+","+m+")"}return i},showToast:function(){this.toastElement=this.buildToast();var i;if(typeof this.options.selector=="string"?i=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?i=this.options.selector:i=document.body,!i)throw"Root element is not defined";var a=t.defaults.oldestFirst?i.firstChild:i.lastChild;return i.insertBefore(this.toastElement,a),t.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(i){i.className=i.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),i.parentNode&&i.parentNode.removeChild(i),this.options.callback.call(i),t.reposition()}.bind(this),400)}},t.reposition=function(){for(var i={top:15,bottom:15},a={top:15,bottom:15},c={top:15,bottom:15},u=document.getElementsByClassName("toastify"),l,f=0;f<u.length;f++){r(u[f],"toastify-top")===!0?l="toastify-top":l="toastify-bottom";var p=u[f].offsetHeight;l=l.substr(9,l.length-1);var d=15,h=window.innerWidth>0?window.innerWidth:screen.width;h<=360?(u[f].style[l]=c[l]+"px",c[l]+=p+d):r(u[f],"toastify-left")===!0?(u[f].style[l]=i[l]+"px",i[l]+=p+d):(u[f].style[l]=a[l]+"px",a[l]+=p+d)}return this};function o(i,a){return a.offset[i]?isNaN(a.offset[i])?a.offset[i]:a.offset[i]+"px":"0px"}function r(i,a){return!i||typeof a!="string"?!1:!!(i.className&&i.className.trim().split(/\s+/gi).indexOf(a)>-1)}return t.lib.init.prototype=t.lib,t})})(De);const Ut=De.exports;let $=[],L=0,S=0,$e=0,Fe=0,Ps=1,Kt=0,et=[],y=1,It=!1,At=!1;const gt=document.getElementById("me"),Q=is(20);let it="rgb(95, 61, 196)",ie="pointer",mt="hachure";const yt=document.getElementById("zoom-current");function F(){rs(v),as($,L,S,document.documentElement.clientWidth,document.documentElement.clientHeight)}function Ft(){for(let n=0;n<$.length;n++){const e=$[n];e.zoom=y}}const J=document.getElementById("canvas");J.height=document.documentElement.clientHeight;J.width=document.documentElement.clientWidth;const v=J.getContext("2d");v.lineWidth=12;let Xt=0,qt=0;const st=Ms.canvas(J),Pe=document.querySelectorAll(".fill-style-btn");Pe.forEach(n=>{n.addEventListener("click",e=>{if(e.target===null)return;const t=e.target;Pe.forEach(s=>{s!==t&&s.classList.remove("active-fill-style")}),t.classList.add("active-fill-style"),mt=t.dataset.fillOption})});const Le=document.querySelectorAll(".top-btn");Le.forEach(n=>{n.addEventListener("click",e=>{if(e.target===null)return;const t=e.target;t.id==="save-btn"||t.id==="clear-btn"||(Le.forEach(s=>{s!==t&&s.classList.remove("active-shape")}),t.classList.add("active-shape"),ie=t.dataset.shapeOption)})});let H,kt="";const Nt=window.location;Nt.protocol==="https:"?kt="wss:":kt="ws:";kt+="/"+Nt.host;kt+=Nt.pathname+"/ws"+Nt.search;H=new WebSocket(kt);Ls(H);function Ls(n){n.onmessage=Ss,n.onclose=Os}function Ss(n){try{const t=n.data.split(":::"),s=t[0];if(s==="move"){const o=v.lineWidth,r=v.strokeStyle;J.getContext("2d"),v.beginPath(),v.moveTo(t[1],t[2]),v.lineTo(t[3],t[4]),v.lineWidth=t[5],v.strokeStyle=t[6],v.stroke(),v.strokeStyle=r,v.lineWidth=o}if(s==="clear"&&($=[],v.clearRect(0,0,J.width,J.height)),s==="cur"){const o=t[1];let r;if(r=document.getElementById(o),r===null){r=document.createElement("div"),r.id=o,r.className="trailer",document.body.appendChild(r);return}const i={transform:`translate(${+t[2]+L}px, ${+t[3]+S}px)`};r.animate(i,{fill:"forwards"})}if(s==="disconnect"){Ut({text:"User disconnected",duration:2e3,newWindow:!0,close:!0,gravity:"bottom",position:"right",stopOnFocus:!0,style:{background:"linear-gradient(to right, rgb(227 135 22), rgb(221 45 45))"},onClick:function(){}}).showToast();let o=document.getElementsByClassName("trailer");if(o.length===0)return;for(var e=0;e<o.length;e++)o[e].id!=="me"&&(document.body.removeChild(o[e]),e--)}if(s==="message"&&Ut({text:t[1],duration:6e3,newWindow:!0,close:!0,gravity:"bottom",position:"right",stopOnFocus:!0,style:{background:"linear-gradient(to right, rgb(227 135 22), rgb(221 45 45))"},onClick:function(){}}).showToast(),s==="drawObj"){let o=es(t[1],st,v);o.zoom=y,$.push(o),o.draw(L,S)}if(s==="delete"){let o=t[1];$=$.filter(r=>JSON.stringify(r)!==o),F()}}catch(t){console.error(t)}}function Os(){Ut({text:"Lost connection. Click here",duration:0,newWindow:!0,close:!1,gravity:"bottom",position:"right",stopOnFocus:!0,style:{background:"linear-gradient(to right, #00b09b, #96c93d)"},onClick:function(){location.reload()}}).showToast()}let nt=0,ot=0;window.addEventListener("mousedown",n=>{if(n.which===2){At=!0,$e=n.clientX-L,Fe=n.clientY-S;return}if(n.button!==0)return;n.stopPropagation();const e=n.target;e.id==="canvas"&&e!==null&&(It=!0,Kt=0,et=[],nt=n.clientX,ot=n.clientY)});window.addEventListener("mouseup",n=>{if(At){At=!1;return}if(It=!1,n.target.id!=="canvas")return;switch(ie){case"pointer":break;case"pen":{let o=[];for(let i=0;i<et.length;i++){const a=et[i];o.push([a[0]*y,a[1]*y])}let r=new te(et,v.fillStyle,v.lineWidth,v,Q);r.zoom=y,$.push(r),F();break}case"line":{F();let o=new ee(v.fillStyle,+v.lineWidth,[(nt-L)/y,(ot-S)/y],[(n.clientX-L)/y,(n.clientY-S)/y],st,Q);o.zoom=y,$.push(o),F();break}case"rectangle":{F();let o=new se(v.fillStyle,+v.lineWidth,[(nt-L)/y,(ot-S)/y],[(n.clientX-L)/y,(n.clientY-S)/y],mt,st,it,v.lineWidth/y,Q);o.zoom=y,o.draw(L,S),$.push(o);break}case"ellipse":F();let s=new ne(v.fillStyle,+v.lineWidth,[(nt-L)/y,(ot-S)/y],[(n.clientX-L)/y,(n.clientY-S)/y],mt,st,it,v.lineWidth,!1,Q);s.zoom=y,s.draw(L,S),$.push(s);break}let t="drawObj:::"+JSON.stringify($[$.length-1])+":::";H.send(t.length),H.send(t)});window.addEventListener("mousemove",n=>{if(n.button!==0)return;const e=n.target,t=n.clientX-gt.offsetWidth/2,s=n.clientY-gt.offsetHeight/2;if(e.id==="canvas"){ss(t,s,gt);let i="cur:::"+Q+":::"+ +(t-L)+":::"+ +(s-S)+":::";H.send(i.length),H.send(i)}if(At){L=n.clientX-$e,S=n.clientY-Fe,F();return}if(!It)return;const o=n.clientX,r=n.clientY;switch(ie){case"pointer":break;case"pen":if(Xt==null||qt==null||!It){Xt=n.clientX,qt=n.clientY;return}let i=n.clientX,a=n.clientY;if(Kt++,Kt%Ps===0){et.push([(i-L)/y,(a-S)/y]),F();let f=[];for(let p=0;p<et.length;p++){const d=et[p];f.push([d[0]*y,d[1]*y])}new te(f,v.fillStyle,v.lineWidth*y,v,Q).draw(L,S)}Xt=i,qt=a;break;case"line":F();let c=new ee(v.fillStyle,+v.lineWidth,[(nt-L)/y,(ot-S)/y],[(o-L)/y,(r-S)/y],st,Q);c.zoom=y,c.draw(L,S);break;case"ellipse":F();let u=new ne(v.fillStyle,+v.lineWidth,[(nt-L)/y,(ot-S)/y],[(o-L)/y,(r-S)/y],mt,st,it,v.lineWidth,!1,Q);u.zoom=y,u.draw(L,S);break;case"rectangle":F();let l=new se(v.fillStyle,+v.lineWidth,[(nt-L)/y,(ot-S)/y],[(o-L)/y,(r-S)/y],mt,st,it,v.lineWidth,Q);l.zoom=y,l.draw(L,S);break}});window.addEventListener("resize",()=>{F()});window.addEventListener("wheel",n=>{let e=document.documentElement.clientWidth/2,t=document.documentElement.clientHeight/2,s=(L+(y-1)*e)/y,o=(S+(y-1)*t)/y;y+=n.deltaY<0?.05:-.1,y<=.1?y=.1:y>=5&&(y=5),n.deltaY<0,L=s+(y-1)*(s-e),S=o+(y-1)*(o-t),Ft(),F(),yt.innerHTML=`${Math.floor(y*100)}%`});let Ht=[];document.addEventListener("keydown",function(n){if(n.ctrlKey&&n.key.toLocaleLowerCase()==="z"){if(n.shiftKey){if(Ht.length===0)return;let r=Ht.pop();$.push(r),r.draw(L,S);let i="drawObj:::"+JSON.stringify(r)+":::";H.send(i.length),H.send(i);return}let e=$.filter(r=>r.userId===Q);if(e.length===0)return;let t=e[e.length-1];$=$.filter(r=>r!==t);let s=JSON.stringify(t);Ht.push(t),F();let o="delete:::"+s;H.send(o.length),H.send(o)}});let Cs=document.getElementById("clear-btn");Cs.addEventListener("click",()=>{$=[],v.clearRect(0,0,J.width,J.height),H.send(8),H.send("clear:::")});let Es=document.getElementById("save-btn");Es.addEventListener("click",()=>{let n=J.toDataURL("imag/png"),e=document.createElement("a");e.href=n,e.download="sketch.png",e.click()});const re=document.getElementById("stroke-color-picker"),Ot=document.getElementById("stroke-color-list"),Se=document.querySelectorAll("#stroke-color-item"),Ts=document.getElementById("stroke-color-picker-input");re.addEventListener("click",n=>{n.stopPropagation(),Ot.style.display==="grid"?Ot.style.display="none":Ot.style.display="grid"});for(let n=0;n<Se.length;n++)Se[n].addEventListener("click",t=>{const s=t.target;if(s===null)return;const o=s.style.backgroundColor;re.style.backgroundColor=o,it=o,Ot.style.display="none",console.log(it)});Ts.addEventListener("input",n=>{const e=n.target;if(e===null)return;const t="#"+e.value;t.length>1&&(re.style.backgroundColor=t,it=t)});const ae=document.querySelector(".color-picker"),Ct=document.getElementById("color-list"),Oe=document.querySelectorAll("#color-item"),zs=document.getElementById("color-picker-input");ae.addEventListener("click",n=>{n.stopPropagation(),Ct.style.display==="grid"?Ct.style.display="none":Ct.style.display="grid"});for(let n=0;n<Oe.length;n++)Oe[n].addEventListener("click",t=>{const s=t.target;if(s===null)return;const o=s.style.backgroundColor;ae.style.backgroundColor=o,Te(o,v,gt),Ct.style.display="none"});zs.addEventListener("input",n=>{const e=n.target;if(e===null)return;const t="#"+e.value;t.length>1&&(ae.style.backgroundColor=t,Te(t,v,gt))});const Ce=document.querySelectorAll(".width-btn");Ce.forEach(n=>{n.addEventListener("click",e=>{if(e.target===null)return;const t=e.target;v.lineWidth=parseInt(t.dataset.lineWidth),n.classList.add("active-width"),Ce.forEach(s=>{s!==t&&s.classList.remove("active-width")})})});const Vt=document.getElementById("input-opacity");Vt.addEventListener("change",()=>{const n=v.fillStyle.startsWith("#")?ze(v.fillStyle,Vt.value):os(v.fillStyle,+Vt.value);v.fillStyle=n});const Ws=document.getElementById("zoom-decrease"),Is=document.getElementById("zoom-increase");Ws.addEventListener("click",()=>{y-=.1,y<=.1&&(y=.1),Ft(),F(),yt.innerHTML=`${Math.floor(y*100)}%`});Is.addEventListener("click",()=>{y+=.1,y>=5&&(y=5),Ft(),F(),yt.innerHTML=`${Math.floor(y*100)}%`});yt.addEventListener("click",n=>{n.stopPropagation(),y=1,Ft(),F(),yt.innerHTML="100%"});
